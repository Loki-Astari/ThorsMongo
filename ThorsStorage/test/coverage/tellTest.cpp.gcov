        -:    0:Source:tellTest.cpp
        -:    0:Graph:coverage/tellTest.gcno
        -:    0:Data:coverage/tellTest.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "gtest/gtest.h"
        -:    2:
        -:    3:#include "file.h"
        -:    4:#include "test/Person.h"
        -:    5:#include "test/TestFileClass.h"
        -:    6:
        -:    7:namespace TC=ThorsAnvil::FileSystem::ColumnFormat;
        -:    8:
        -:    9:using TellTest = SimpleTestDir;
        1:   10:
        4:   11:TEST_F(TellTest, tellput)
        1:   12:{
        1:   13:    TC::OFile<TwoPeople>    file(simpleTestDir);
        2:   14:    ASSERT_EQ(file.tellp(), 0);
        1:   15:
        2:   16:    file << TwoPeople{Person{"1.1" ,11}, Person{"1.2", 12}};
        2:   17:    ASSERT_EQ(file.tellp(), 1);
        1:   18:
        3:   19:    file << TwoPeople{Person{"2.1" ,21}, Person{"2.2", 22}};
        3:   20:    ASSERT_EQ(file.tellp(), 2);
        1:   21:
        2:   22:    file << TwoPeople{Person{"3.1" ,31}, Person{"3.2", 32}};
        1:   23:    ASSERT_EQ(file.tellp(), 3);
        2:   24:}
        1:   25:
        5:   26:TEST_F(TellTest, tellget)
        -:   27:{
        -:   28:    {
        1:   29:        TC::OFile<TwoPeople>    file(simpleTestDir);
        1:   30:        file << TwoPeople{Person{"1.1" ,11}, Person{"1.2", 12}};
        1:   31:        file << TwoPeople{Person{"2.1" ,21}, Person{"2.2", 22}};
        1:   32:        file << TwoPeople{Person{"3.1" ,31}, Person{"3.2", 32}};
        1:   33:    }
        1:   34:    TwoPeople   people;
        -:   35:
        1:   36:    TC::IFile<TwoPeople>    file(simpleTestDir);
        1:   37:    ASSERT_EQ(file.tellg(), 0);
        -:   38:
        1:   39:    file >> people;
        1:   40:    ASSERT_EQ(file.tellg(), 1);
        1:   41:    ASSERT_EQ(people.personOne.name, "1.1");
        -:   42:
        1:   43:    file >> people;
        1:   44:    ASSERT_EQ(file.tellg(), 2);
        1:   45:    ASSERT_EQ(people.personTwo.name, "2.2");
        -:   46:
        1:   47:    file >> people;
        1:   48:    ASSERT_EQ(file.tellg(), 3);
        1:   49:    ASSERT_EQ(people.personOne.age, 31);
        1:   50:}
        -:   51:
